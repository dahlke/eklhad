{{ define "index" }}
    <!doctype html>
    <html lang="en">
        <head>
            <meta charset="utf-8">
            <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
            <title>Eklhad Web</title>
            <link rel="shortcut icon" type="image/x-icon" href="/static/assets/favicon.ico">
            <link rel="stylesheet" href="/static/styles/index.css">
            <script>
                (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
                ga('create', 'UA-28453323-2', 'auto');
                ga('send', 'pageview');
            </script>
            <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.53.0/mapbox-gl.js'></script>
            <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.53.0/mapbox-gl.css' rel='stylesheet' />
        </head>
        <body>
            {{ template "body" . }}
        </body>
        <script>
            mapboxgl.accessToken = 'pk.eyJ1IjoibnRkIiwiYSI6ImhsTjRCZHcifQ.n0hx7Pe1GmCkQYYxBs0yjA';

            var map = new mapboxgl.Map({
                container: 'map',
                style: 'mapbox://styles/ntd/cjsl0z4lm3d971fllo51zcza8',
                center: [-122.00, 37.00],
                attributionControl: false,
                zoomControl: false,
                zoom: 2,
                minZoom: 2,
                maxZoom: 8,
                worldCopyJump: true
            });

            var geojson = {{ .Locations }};
            geojson.features.forEach(function (marker) {

                // create a HTML element for each feature
                var el = document.createElement('div');
                el.className = 'marker';

                // make a marker for each feature and add to the map
                console.log(marker.geometry.coordinates, map);
                new mapboxgl.Marker(el)
                    .setLngLat(marker.geometry.coordinates)
                    .addTo(map);
            });


        </script>
    </html>
{{end}}

{{ define "body" }}
    <div className="container">
        <h1>Neil Dahlke</h1>
        <h3>Engineer, <a target="_blank" href="http://www.hashicorp.com/">HashiCorp</a></h3>
        <h5>(Formerly <a href="https://memsql.com">MemSQL</a>)</h5>
        <h6>San Francisco, California, USA</h6>
        <h6>
            <a target="_blank" href="https://www.instagram.com/eklhad">Instagram</a> / <a target="_blank" href="https://www.github.com/dahlke">GitHub</a> / <a target="_blank" href="https://www.linkedin.com/in/neildahlke">LinkedIn</a> / <a href="static/resume.html">Resume</a>
        </h6>
        <div id="map"></div>
        {{ template "links" . }}
    </div>
{{ end }}


{{ define "links" }}
<div class="links">
    <h5>Press</h5>
    {{range .Links.PressLinks }}
     <div class="link" >
            <span class="date">[{{ .Date }}]</span>
            <span class="url"><a href={{ .Url }}>{{ .Name }}</a></span>
    </div>
    {{end}}
    <h5>Talks</h5>
    {{range .Links.TalkLinks }}
     <div class="link" >
            <span class="date">[{{ .Date }}]</span>
            <span class="url"><a href={{ .Url }}>{{ .Name }}</a></span>
    </div>
    {{end}}
    <h5>Webinars</h5>
    {{range .Links.WebinarLinks }}
     <div class="link" >
            <span class="date">[{{ .Date }}]</span>
            <span class="url"><a href={{ .Url }}>{{ .Name }}</a></span>
    </div>
    {{end}}
    <h5>Blogs</h5>
    {{range .Links.BlogLinks }}
     <div class="link" >
            <span class="date">[{{ .Date }}]</span>
            <span class="url"><a href={{ .Url }}>{{ .Name }}</a></span>
    </div>
    {{end}}
    <h5>Demos</h5>
    {{range .Links.DemoLinks }}
     <div class="link" >
            <span class="date">[{{ .Date }}]</span>
            <span class="url"><a href={{ .Url }}>{{ .Name }}</a></span>
    </div>
    {{end}}
</div>
{{ end }}
